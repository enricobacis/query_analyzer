<explain xmlns="http://www.postgresql.org/2009/explain">
  <Query>
    <Plan>
      <Node-Type>Aggregate</Node-Type>
      <Strategy>Sorted</Strategy>
      <Startup-Cost>84816.60</Startup-Cost>
      <Total-Cost>84836.92</Total-Cost>
      <Plan-Rows>739</Plan-Rows>
      <Plan-Width>22</Plan-Width>
      <Actual-Startup-Time>1619.154</Actual-Startup-Time>
      <Actual-Total-Time>1623.145</Actual-Total-Time>
      <Actual-Rows>7</Actual-Rows>
      <Actual-Loops>1</Actual-Loops>
      <Output>
        <Item>("substring"((customer.c_phone)::text, 1, 2))</Item>
        <Item>count(*)</Item>
        <Item>sum(customer.c_acctbal)</Item>
      </Output>
      <Group-Key>
        <Item>("substring"((customer.c_phone)::text, 1, 2))</Item>
      </Group-Key>
      <Plans>
        <Plan>
          <Node-Type>Aggregate</Node-Type>
          <Strategy>Plain</Strategy>
          <Parent-Relationship>InitPlan</Parent-Relationship>
          <Subplan-Name>InitPlan 1 (returns $0)</Subplan-Name>
          <Startup-Cost>7497.44</Startup-Cost>
          <Total-Cost>7497.45</Total-Cost>
          <Plan-Rows>1</Plan-Rows>
          <Plan-Width>6</Plan-Width>
          <Actual-Startup-Time>133.088</Actual-Startup-Time>
          <Actual-Total-Time>133.089</Actual-Total-Time>
          <Actual-Rows>1</Actual-Rows>
          <Actual-Loops>1</Actual-Loops>
          <Output>
            <Item>avg(customer_1.c_acctbal)</Item>
          </Output>
          <Plans>
            <Plan>
              <Node-Type>Seq Scan</Node-Type>
              <Parent-Relationship>Outer</Parent-Relationship>
              <Relation-Name>customer</Relation-Name>
              <Schema>public</Schema>
              <Alias>customer_1</Alias>
              <Startup-Cost>0.00</Startup-Cost>
              <Total-Cost>7485.50</Total-Cost>
              <Plan-Rows>4774</Plan-Rows>
              <Plan-Width>6</Plan-Width>
              <Actual-Startup-Time>0.640</Actual-Startup-Time>
              <Actual-Total-Time>118.125</Actual-Total-Time>
              <Actual-Rows>38120</Actual-Rows>
              <Actual-Loops>1</Actual-Loops>
              <Output>
                <Item>customer_1.c_custkey</Item>
                <Item>customer_1.c_name</Item>
                <Item>customer_1.c_address</Item>
                <Item>customer_1.c_nationkey</Item>
                <Item>customer_1.c_phone</Item>
                <Item>customer_1.c_acctbal</Item>
                <Item>customer_1.c_mktsegment</Item>
                <Item>customer_1.c_comment</Item>
              </Output>
              <Filter>((customer_1.c_acctbal &gt; 0.00) AND ("substring"((customer_1.c_phone)::text, 1, 2) = ANY ('{13,31,23,29,30,18,17}'::text[])))</Filter>
              <Rows-Removed-by-Filter>111880</Rows-Removed-by-Filter>
            </Plan>
          </Plans>
        </Plan>
        <Plan>
          <Node-Type>Sort</Node-Type>
          <Parent-Relationship>Outer</Parent-Relationship>
          <Startup-Cost>77319.15</Startup-Cost>
          <Total-Cost>77321.00</Total-Cost>
          <Plan-Rows>739</Plan-Rows>
          <Plan-Width>22</Plan-Width>
          <Actual-Startup-Time>1618.497</Actual-Startup-Time>
          <Actual-Total-Time>1620.261</Actual-Total-Time>
          <Actual-Rows>6384</Actual-Rows>
          <Actual-Loops>1</Actual-Loops>
          <Output>
            <Item>("substring"((customer.c_phone)::text, 1, 2))</Item>
            <Item>customer.c_acctbal</Item>
          </Output>
          <Sort-Key>
            <Item>("substring"((customer.c_phone)::text, 1, 2))</Item>
          </Sort-Key>
          <Sort-Method>quicksort</Sort-Method>
          <Sort-Space-Used>378</Sort-Space-Used>
          <Sort-Space-Type>Memory</Sort-Space-Type>
          <Plans>
            <Plan>
              <Node-Type>Hash Join</Node-Type>
              <Parent-Relationship>Outer</Parent-Relationship>
              <Join-Type>Anti</Join-Type>
              <Startup-Cost>64590.00</Startup-Cost>
              <Total-Cost>77283.94</Total-Cost>
              <Plan-Rows>739</Plan-Rows>
              <Plan-Width>22</Plan-Width>
              <Actual-Startup-Time>1375.700</Actual-Startup-Time>
              <Actual-Total-Time>1613.369</Actual-Total-Time>
              <Actual-Rows>6384</Actual-Rows>
              <Actual-Loops>1</Actual-Loops>
              <Output>
                <Item>"substring"((customer.c_phone)::text, 1, 2)</Item>
                <Item>customer.c_acctbal</Item>
              </Output>
              <Hash-Cond>(customer.c_custkey = orders.o_custkey)</Hash-Cond>
              <Plans>
                <Plan>
                  <Node-Type>Seq Scan</Node-Type>
                  <Parent-Relationship>Outer</Parent-Relationship>
                  <Relation-Name>customer</Relation-Name>
                  <Schema>public</Schema>
                  <Alias>customer</Alias>
                  <Startup-Cost>0.00</Startup-Cost>
                  <Total-Cost>7485.50</Total-Cost>
                  <Plan-Rows>1750</Plan-Rows>
                  <Plan-Width>26</Plan-Width>
                  <Actual-Startup-Time>133.100</Actual-Startup-Time>
                  <Actual-Total-Time>194.216</Actual-Total-Time>
                  <Actual-Rows>19000</Actual-Rows>
                  <Actual-Loops>1</Actual-Loops>
                  <Output>
                    <Item>customer.c_phone</Item>
                    <Item>customer.c_acctbal</Item>
                    <Item>customer.c_custkey</Item>
                  </Output>
                  <Filter>((customer.c_acctbal &gt; $0) AND ("substring"((customer.c_phone)::text, 1, 2) = ANY ('{13,31,23,29,30,18,17}'::text[])))</Filter>
                  <Rows-Removed-by-Filter>131000</Rows-Removed-by-Filter>
                </Plan>
                <Plan>
                  <Node-Type>Hash</Node-Type>
                  <Parent-Relationship>Inner</Parent-Relationship>
                  <Startup-Cost>40713.00</Startup-Cost>
                  <Total-Cost>40713.00</Total-Cost>
                  <Plan-Rows>1500000</Plan-Rows>
                  <Plan-Width>4</Plan-Width>
                  <Actual-Startup-Time>1242.010</Actual-Startup-Time>
                  <Actual-Total-Time>1242.010</Actual-Total-Time>
                  <Actual-Rows>1500000</Actual-Rows>
                  <Actual-Loops>1</Actual-Loops>
                  <Output>
                    <Item>orders.o_custkey</Item>
                  </Output>
                  <Hash-Buckets>32768</Hash-Buckets>
                  <Hash-Batches>16</Hash-Batches>
                  <Original-Hash-Batches>16</Original-Hash-Batches>
                  <Peak-Memory-Usage>2258</Peak-Memory-Usage>
                  <Plans>
                    <Plan>
                      <Node-Type>Seq Scan</Node-Type>
                      <Parent-Relationship>Outer</Parent-Relationship>
                      <Relation-Name>orders</Relation-Name>
                      <Schema>public</Schema>
                      <Alias>orders</Alias>
                      <Startup-Cost>0.00</Startup-Cost>
                      <Total-Cost>40713.00</Total-Cost>
                      <Plan-Rows>1500000</Plan-Rows>
                      <Plan-Width>4</Plan-Width>
                      <Actual-Startup-Time>0.206</Actual-Startup-Time>
                      <Actual-Total-Time>677.881</Actual-Total-Time>
                      <Actual-Rows>1500000</Actual-Rows>
                      <Actual-Loops>1</Actual-Loops>
                      <Output>
                        <Item>orders.o_custkey</Item>
                      </Output>
                    </Plan>
                  </Plans>
                </Plan>
              </Plans>
            </Plan>
          </Plans>
        </Plan>
      </Plans>
    </Plan>
    <Planning-Time>1.268</Planning-Time>
    <Triggers>
    </Triggers>
    <Execution-Time>1623.698</Execution-Time>
  </Query>
</explain>